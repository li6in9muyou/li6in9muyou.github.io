<!doctype html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="大略了解分布式系统。MIT6.824 Distributed Systems" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="THIS IS A WORK-IN-PROGRESS" /><meta property="og:description" content="THIS IS A WORK-IN-PROGRESS" /><link rel="canonical" href="https://li6in9muyou.github.io/posts/distributed-systems/" /><meta property="og:url" content="https://li6in9muyou.github.io/posts/distributed-systems/" /><meta property="og:site_name" content="Li6q 笔记" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-03-05T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="大略了解分布式系统。MIT6.824 Distributed Systems" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-03-24T23:18:34+08:00","datePublished":"2023-03-05T00:00:00+08:00","description":"THIS IS A WORK-IN-PROGRESS","headline":"大略了解分布式系统。MIT6.824 Distributed Systems","mainEntityOfPage":{"@type":"WebPage","@id":"https://li6in9muyou.github.io/posts/distributed-systems/"},"url":"https://li6in9muyou.github.io/posts/distributed-systems/"}</script><title>大略了解分布式系统。MIT6.824 Distributed Systems | Li6q 笔记</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Li6q 笔记"><meta name="application-name" content="Li6q 笔记"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="preconnect" href="https://cdnjs.cloudflare.com" ><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/li6in9muyou.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Li6q 笔记</a></h1><p class="site-subtitle fst-italic mb-0">A blog of a unique person.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>关于</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/li6in9muyou" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['libq5520','mails.jlu.edu.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">首页</a> </span> <span>大略了解分布式系统。MIT6.824 Distributed Systems</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>大略了解分布式系统。MIT6.824 Distributed Systems</h1><div class="post-meta text-muted"> <span> 发表于 <time data-ts="1677945600" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2023/03/05 </time> </span> <span> 更新于 <time data-ts="1679671114" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2023/03/24 </time> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href="https://github.com/li6in9muyou">Li 6in9Muyou</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1852 字" > <em>10 分钟</em>阅读</span></div></div></header><div class="content"><p><strong>THIS IS A WORK-IN-PROGRESS</strong></p><p>This free online course explains inner-workings of various distributed systems.</p><h1 id="frangipani">Frangipani</h1><p>Frangipani implements a shard storage among computers. There is Frangipani software running on every user’s computer that emulates a file system where a lot of caching and distributed system magic take place. This system also operates a centralized server called Petal that can simply be viewed as a reliable disk drive in this article’s context.</p><p>Key challenges of such system are:</p><h2 id="cache-coherence"><span class="me-2">cache coherence</span><a href="#cache-coherence" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>tricky scenarios:</p><ul><li>After one computer creates a new file on the system, other computers are expected to see this change as soon as possible.<li>When multiple computers are modifying a same file or directory, those modification should not interference each other unexpectedly.</ul><p>To address above issues, IO operations on shard files follows strict rules.</p><ul><li>cache is invalid without holding a lock<li>acquire a lock before read<li>write before release a lock</ul><p>operation abstractions between a Frangipani client and Petal:</p><ol><li>request to a lock server<li>grant a lock to a client<li>revoke a lock from a client<li>release a lock back to lock server</ol><p>Lock has BUSY and IDLE state. Lock is cached in client in a IDLE state as long as it has not been revoked. One type of lock is shard read lock, another type is of course an exclusive write lock.</p><p>Anyone who reads a file must acquire a read lock first. Subsequently, he lock server revokes any write lock. But no Frangipani client busy writing shall be interrupted, lock server and all reader must wait for its writing operation. Luckily, there is a big chance that such write lock is in IDLE state. This process make sure that no one will be reading stale data since write must give writing before any reader can read.</p><h2 id="atomicity"><span class="me-2">atomicity</span><a href="#atomicity" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The system should grantee some file operations be atomic e.g. create and delete files.</p><h2 id="crash-recovery"><span class="me-2">crash recovery</span><a href="#crash-recovery" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>tricky scenarios:</p><ul><li>Even if a computer crashes in the middle of syncing local state to the central server, other computer should not be affected by it.</ul><p>Write-Ahead-Log is used for crash recovery. Timeouts are also used to eliminate waiting indefinitely for responses from a Frangipani client. WALs are meant to be replayed by other peers.</p><p>The lecturer distinguishes file metadata between user content. But how does the Linux OS implement file system?</p><p>Sequenced numbers are used to track WAL entries and filesystem changes so that future readers of same file entry are able to find the latest one. In such scenario, sequence number is often called version number, which is very common in document-oriented NoSQL databases.</p><p>The lecturer comments that the Frangipani system is not suitable for today’s use case of shard file storage.</p><blockquote><p>A review of this software can be found at <a href="https://wenzhe.one/MIT6.824%2021Spring/frangipani.html">wenzhe.one/MIT6.824%2021Spring/frangipani.html</a></p></blockquote><h1 id="distributed-transactions-distr-xactions">Distributed Transactions (Distr. Xactions.)</h1><p>Distributed transactions are used when some bussiness logic requires modifying data across multiple servers. Two main topics of this lecture are concurrency control and atomic commit. A transaction packs series of operation into an atomic operation. To facilitate such operations, concurrent system often provides abstract primitives for application programmers that mark the start and the end of a transaction. Another very useful abstraction would be to abort. When an abort happens, the execution system rolls back intermediate modifications. An abort may not indicates an error because interrupting a transaction can resolve a dead lock.</p><p>The classical ACID:</p><ul><li>Atomic: all or none<li>Consistent: ignored by this lecture<li>Isolated: serializable<li>Durable: changes are persistent on non-volatile storage</ul><p>What is serializable? Serializable execution means that a concurrent system is able to execute concurrent transactions that yields the same result as if those concurrent transactions are executed in a serial fashion, in other words, one after another.</p><p>How to implement a serializable system?</p><h2 id="concurrency-control"><span class="me-2">concurrency control</span><a href="#concurrency-control" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The two main strategies for concurrency control are pessimistic and optimistic concurrency control. Pessimistic concurrency control is a strategy that tries to prevent conflicts from happening by locking data items, while optimistic concurrency control is a strategy that allows transactions to proceed without locking data items and checks for conflicts when the transaction is ready to commit.</p><p>For example, let’s say that two computers, Computer A and Computer B, are trying to write to the same file at the same time. With pessimistic concurrency control, Computer A would lock the file so that Computer B can’t write to it until Computer A is done. Once Computer A is done, it would release the lock and Computer B would be able to write to the file. This way, there’s no chance of Computer A and Computer B writing to the file at the same time and causing conflicts. With optimistic concurrency control, Computer A and Computer B would both be able to write to the file at the same time. However, when they’re done, the system would check to make sure that there are no conflicts between the changes that they made. If there are conflicts, the system would roll back the changes and ask Computer A and Computer B to try again.</p><h3 id="two-phrase-locking"><span class="me-2">two-phrase locking</span><a href="#two-phrase-locking" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In the growing phase, a transaction acquires locks on data items as it reads and writes them. Once a lock is acquired, it cannot be released until the transaction is ready to commit i.e. all changes have been made. This ensures that other transactions cannot read or write the same data item while the transaction is still in progress hence no one is able to see intermediate results.</p><p>In the shrinking phase, a transaction releases all of its locks once it is ready to commit. This allows other transactions to read and write the same data items.</p><p>In distributed systems, data involved in a transaction may reside in different servers. What if one of them fails in the middle of a transaction, how are we going to do about that?</p><h3 id="two-phrase-commit"><span class="me-2">two-phrase commit</span><a href="#two-phrase-commit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This operation involves two phases: a prepare phase and a commit phase.</p><p>In the prepare phase, the transaction coordinator sends a prepare message to all the servers involved in the transaction. Each server then checks to see if it can commit the transaction. If a server cannot commit the transaction, it sends a abort message to the transaction coordinator. If all the servers can commit the transaction, they send a ready message to the transaction coordinator.</p><p>In the commit phase, the transaction coordinator sends a commit message to all the servers that sent a ready message. The servers then commit the transaction and send an acknowledgement message to the transaction coordinator. If a server cannot commit the transaction, it sends an abort message to the transaction coordinator.</p><p>The transaction ID and a list operations on involved resources are exchanged between the transaction coordinator and participants. In addition to the transaction coordinator, there are two other roles in a two-phase commit: participants and resource managers.</p><ul><li>Participants: servers that are involved in the transaction.<li>Resource managers: software components that manage access to resources, such as databases or files, on behalf of the participants. Resource managers are required to manage access to resources, such as databases or files, on behalf of the participants. They ensure that the resources are accessed in a consistent and reliable manner.</ul><p>The interaction between the transaction coordinator and the client that initiates the transaction is as follows:</p><ol><li>The client sends a request to the transaction coordinator to begin a transaction.<li>The transaction coordinator assigns a unique transaction ID to the transaction and sends a prepare message to all the participants involved in the transaction.<li>Each participant checks to see if it can commit the transaction. If a participant cannot commit the transaction, it sends an abort message to the transaction coordinator. If all the participants can commit the transaction, they send a ready message to the transaction coordinator.<li>The transaction coordinator sends a commit message to all the participants that sent a ready message.<li>The participants then commit the transaction and send an acknowledgement message to the transaction coordinator. If a participant cannot commit the transaction, it sends an abort message to the transaction coordinator.<li>The transaction coordinator sends a response to the client indicating whether the transaction was committed or aborted.</ol><p>In this two-phase commit protocol, the participants acquire locks during the prepare phase and release them during the commit phase. The locks are acquired to ensure that the resources involved in the transaction are accessed in a consistent and reliable manner.</p><h3 id="failure-scenarios"><span class="me-2">failure scenarios</span><a href="#failure-scenarios" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If a participant server fails during the two-phase commit, the transaction coordinator will not receive a ready message from that participant. The transaction coordinator will then send an abort message to all the participants that sent a prepare message. The abort message tells the participants to abort the transaction.</p><p>For example, suppose a transaction involves three participants: A, B, and C. The transaction coordinator sends a prepare message to all three participants. Participant A sends a ready message to the transaction coordinator, but participants B and C do not. The transaction coordinator then sends an abort message to participants A, B, and C, telling them to abort the transaction.</p><p>If a participant server fails after sending a ready message, the transaction coordinator will send a commit message to all the participants that sent a ready message. The participants will then commit the transaction and send an acknowledgement message to the transaction coordinator. If a participant server fails after receiving a commit message, the transaction coordinator will not receive an acknowledgement message from that participant. The transaction coordinator will then send an abort message to all the participants that sent a commit message. The abort message tells the participants to abort the transaction.</p><p>If the transaction coordinator server fails during the two-phase commit, the participants will not receive a commit or abort message from the transaction coordinator. The participants will then wait for a timeout period to elapse before aborting the transaction.</p><p>For example, suppose a transaction involves three participants: A, B, and C. The transaction coordinator sends a prepare message to all three participants and then fails before sending a commit or abort message. Participants A, B, and C will wait for a timeout period to elapse before aborting the transaction.</p><p>A lot of things can go wrong in these operations, system designers have to prepare their system for various failures. In short, there is a lot of acknowledgements and back-and-forth between participants and coordinators, when any reply is not received, the whole operations aborts. Participants use Write-Ahead-Log to grantee the transaction will be made before reply to coordinator.</p><p>In short, write a log to persistent storage before doing anything publicly.</p><p>In short, use timeout when holding a lock except you have promise to commit the operation.</p><p>Drawback of two-phrase commit:</p><ul><li>Many RTT are required.<li>Bottleneck at disk writes.<li>Long lock holding time.</ul><p>To achieve high availability with this protocol, one must replicate different parties involved.</p><h2 id="atomic-commit"><span class="me-2">atomic commit</span><a href="#atomic-commit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><blockquote><p>coming soon</p></blockquote><h1 id="spanner">Spanner</h1><p>A system for perform transactions on distributed data that is shared across servers around the globe. Over ninety percent of the transactions on them is read-only.</p><p>The basic setup:</p><ol><li>one spanner manages one copy of many data items.<li>use paxos protocol to manage each data item</ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/reading/">Reading</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/distributed-system/" class="post-tag no-text-decoration" >distributed-system</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">分享</span> <span class="share-icons"> <a href="http://service.weibo.com/share/share.php?title=%E5%A4%A7%E7%95%A5%E4%BA%86%E8%A7%A3%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E3%80%82MIT6.824%20Distributed%20Systems%20-%20Li6q%20%E7%AC%94%E8%AE%B0&url=https%3A%2F%2Fli6in9muyou.github.io%2Fposts%2Fdistributed-systems%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Weibo" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <a href="https://twitter.com/intent/tweet?text=%E5%A4%A7%E7%95%A5%E4%BA%86%E8%A7%A3%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E3%80%82MIT6.824%20Distributed%20Systems%20-%20Li6q%20%E7%AC%94%E8%AE%B0&url=https%3A%2F%2Fli6in9muyou.github.io%2Fposts%2Fdistributed-systems%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E5%A4%A7%E7%95%A5%E4%BA%86%E8%A7%A3%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E3%80%82MIT6.824%20Distributed%20Systems%20-%20Li6q%20%E7%AC%94%E8%AE%B0&u=https%3A%2F%2Fli6in9muyou.github.io%2Fposts%2Fdistributed-systems%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fli6in9muyou.github.io%2Fposts%2Fdistributed-systems%2F&text=%E5%A4%A7%E7%95%A5%E4%BA%86%E8%A7%A3%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E3%80%82MIT6.824%20Distributed%20Systems%20-%20Li6q%20%E7%AC%94%E8%AE%B0" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="分享链接" data-title-succeed="链接已复制！" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">最近更新</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/pursuit-of-speed/">快点、再快点。the pursuit of speed</a><li class="text-truncate lh-lg"> <a href="/posts/interview-questions/">前端面试题目。crap</a><li class="text-truncate lh-lg"> <a href="/posts/concurrency-models/">大略了解并发模型。seven concurrency models in seven weeks</a><li class="text-truncate lh-lg"> <a href="/posts/howto-write-a-post/">如何给本站添加文章</a><li class="text-truncate lh-lg"> <a href="/posts/git-101/">git 基础。git 101</a></ul></section><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/frontend/">frontend</a> <a class="post-tag btn btn-outline-primary" href="/tags/teamwork/">teamwork</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c++</a> <a class="post-tag btn btn-outline-primary" href="/tags/chore/">chore</a> <a class="post-tag btn btn-outline-primary" href="/tags/database/">database</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a> <a class="post-tag btn btn-outline-primary" href="/tags/tooling/">tooling</a> <a class="post-tag btn btn-outline-primary" href="/tags/bash/">bash</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c#</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">文章内容</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">相关文章</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/pacman-ghost-patterns/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1675785600" data-df="YYYY/MM/DD" > 2023/02/08 </time><h4 class="pt-0 my-2">Pacman如何做出有个性的反派。How does Pacman create ghosts with distinctive personalities</h4><div class="text-muted"><p> 本文大致摘要了由 Chad Birch 撰写的这篇文章 在这里游玩经典的 Pacman 游戏 游戏中有四种颜色的反派它们都具有非常突出的个性，读者可在上面的链接中体验。 八十年代的开发者们是如何给它们赋予个性的呢？ 该游戏在一固定的迷宫地图中进行，只考虑角色的移动时，地图可用正方形网格建模。各个角色只能沿着 迷宫的路做上下左右四个方向的移动。 反派们是如和决定自己的行动轨迹的呢？ ...</p></div></div></a></article><article class="col"> <a href="/posts/concurrency-models/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1690992000" data-df="YYYY/MM/DD" > 2023/08/03 </time><h4 class="pt-0 my-2">大略了解并发模型。seven concurrency models in seven weeks</h4><div class="text-muted"><p> THIS IS A WORK IN PROGRESS 这本书确实没有讲到事件循环 线程和锁 使用锁元语来完成并发程序的同步和互斥需求，很容易出错，不讨论了。 函数式编程 用不可变的状态，其他的跟下面的CSP 几乎一模一样，不讨论了。 Clojure 都是语言特性，不讨论了 Actor actor 是一种由运行时维护的实体，actor 之间可以发送消息，消息是一种不可变的数据...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/COOL-compiler/" class="btn btn-outline-primary" aria-label="上一篇" ><p>面向教室又面向对象的程序设计语言编译器。COOL compiler</p></a> <a href="/posts/debug-101/" class="btn btn-outline-primary" aria-label="下一篇" ><p>如何debug。</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/li6in9muyou">Li 6in9Muyou</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。" >保留部分权利。</span></p><p>本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/frontend/">frontend</a> <a class="post-tag btn btn-outline-primary" href="/tags/teamwork/">teamwork</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c++</a> <a class="post-tag btn btn-outline-primary" href="/tags/chore/">chore</a> <a class="post-tag btn btn-outline-primary" href="/tags/database/">database</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a> <a class="post-tag btn btn-outline-primary" href="/tags/tooling/">tooling</a> <a class="post-tag btn btn-outline-primary" href="/tags/bash/">bash</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c#</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/zh.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
